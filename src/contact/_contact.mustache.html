<form id="contact-form" novalidate {{#emailjs}}data-emailjs-user-id="{{userId}}" data-emailjs-service-id="{{serviceId}}" data-emailjs-template-id="{{templateId}}"{{/emailjs}}>
  {{#fields}}

    <div class="row">

      {{# firstName}}
        <div class="col">
          <div class="form-group">
            {{> fieldLabel}}
            <input type="text" class="form-control" id="{{identifier}}" name="{{identifier}}" {{#required}}required{{/required}}>
            <div class="invalid-feedback">{{invalidFeedback}}</div>
          </div>
        </div>
      {{/ firstName}}

      {{# lastName}}
        <div class="col">
          <div class="form-group">
            {{> fieldLabel}}
            <input type="text" class="form-control" id="{{identifier}}" name="{{identifier}}" {{#required}}required{{/required}}>
          </div>
        </div>
      {{/ lastName}}

    </div>

    {{# email}}
      <div class="form-group">
          {{> fieldLabel}}
          <input type="email" class="form-control" id="{{identifier}}" name="{{identifier}}" {{#required}}required{{/required}}>
          <div class="invalid-feedback">{{invalidFeedback}}</div>
      </div>
    {{/ email}}

    {{# referral}}
      <div class="form-group">
        {{> fieldLabel}}
        <textarea class="form-control" id="{{identifier}}" name="{{identifier}}" rows="3" {{#required}}required{{/required}}></textarea>
      </div>
    {{/ referral}}

    {{# message}}
      <div class="form-group">
        {{> fieldLabel}}
        <textarea class="form-control" id="{{identifier}}" name="{{identifier}}" rows="3" {{#required}}required{{/required}}></textarea>
        <div class="invalid-feedback">{{invalidFeedback}}</div>
      </div>
    {{/ message}}

  {{/fields}}

  {{#recaptcha}}<div type="submit" class="g-recaptcha" data-theme="dark" data-sitekey="{{siteKey}}">{{btnSendLbl}}></div>{{/recaptcha}}

  <div class="row justify-content-center">
    <button type="submit" class="btn btn-primary btn-lg">{{btnSendLbl}}</button>
  </div>

</form>

<br/>

<div class="dan-emailjs-alerts">
  <!-- These alerts are purposefully not dismissable, so that the alert still exsts to show if submission succeeds/fails a second time. -->

  {{#emailjsAlerts}}
    {{#success}}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        <h4 class="alert-heading">{{heading}}</h4>
        <p>{{message}}</p>
      </div>
    {{/success}}

    {{#failure}}
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <h4 class="alert-heading">{{heading}}</h4>
        <p>{{message}}</p>
        <p class="dan-msg-failure"></p>
      </div>
    {{/failure}}
  {{/emailjsAlerts}}
</div>
